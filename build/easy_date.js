var split;
split=split||function(h){var c=String.prototype.split,a=/()??/.exec("")[1]===h,b;b=function(b,d,g){if("[object RegExp]"!==Object.prototype.toString.call(d))return c.call(b,d,g);var f=[],k=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.extended?"x":"")+(d.sticky?"y":""),l=0;d=RegExp(d.source,k+"g");var m,e,n;b+="";a||(m=RegExp("^"+d.source+"$(?!\\s)",k));for(g=g===h?4294967295:g>>>0;e=d.exec(b);){k=e.index+e[0].length;if(k>l&&(f.push(b.slice(l,e.index)),!a&&1<e.length&&e[0].replace(m,function(){for(var a=1;a<
arguments.length-2;a++)arguments[a]===h&&(e[a]=h)}),1<e.length&&e.index<b.length&&Array.prototype.push.apply(f,e.slice(1)),n=e[0].length,l=k,f.length>=g))break;d.lastIndex===e.index&&d.lastIndex++}l===b.length?(n||!d.test(""))&&f.push(""):f.push(b.slice(l));return f.length>g?f.slice(0,g):f};String.prototype.split=function(a,d){return b(this,a,d)};return b}();
(function(){var h=[].slice;this.EasyDate=function(){function c(){var a;a=1<=arguments.length?h.call(arguments,0):[];a=this._constructDate(a);this.date=new Date(a.year,a.month,a.day)}c.prototype.year=function(){return this.date.getFullYear()};c.prototype.month=function(){return this.date.getMonth()+1};c.prototype.day=function(){return this.date.getDate()};c.prototype.isFuture=function(){return 0>this.date-new Date?!1:!0};c.prototype.isPast=function(){return 0<this.date-new Date?!1:!0};c.prototype.yearsAgo=
function(){return(new Date).getFullYear()-this.year()};c.prototype.yearsUntil=function(){return this.year()-(new Date).getFullYear()};c.prototype._constructDate=function(a){var b,c,d;this._isShothandDate(a)?(b=a[2],c=a[1]-1,d=a[0]):this._isCprFormattedDate(a[0])?(d=this._y2kFix(split(a[0],/(\d{2})/)[5]),c=parseInt(split(a[0],/(\d{2})/)[3],10)-1,b=parseInt(split(a[0],/(\d{2})/)[1],10)):this._isLongFormattedDateWithYearFirst(a[0])?(d=parseInt(split(a[0],/-/)[0],10),c=parseInt(split(a[0],/-/)[1],10)-
1,b=parseInt(split(a[0],/-/)[2],10)):this._isLongFormattedDateWithYearLast(a[0])&&(d=parseInt(split(a[0],/-/)[2],10),c=parseInt(split(a[0],/-/)[1],10)-1,b=parseInt(split(a[0],/-/)[0],10));if(!this._dateValid(d,c,b))throw Error("Invalid date");return{year:d,month:c,day:b}};c.prototype._isShothandDate=function(a){return 1<a.length};c.prototype._isCprFormattedDate=function(a){return/^\d{6}$/.test(a)};c.prototype._isLongFormattedDateWithYearFirst=function(a){return/^\d{4}-\d{2}-\d{2}$/.test(a)};c.prototype._isLongFormattedDateWithYearLast=
function(a){return/^\d{2}-\d{2}-\d{4}$/.test(a)};c.prototype._y2kFix=function(a){var b;b=parseInt("20"+a,10);a=parseInt("19"+a,10);return 100<(new Date).getFullYear()-a?b:a};c.prototype._dateValid=function(a,b,c){var d;b-=1;0>b&&(b=0);d=new Date(a,b,c);return d.getFullYear()===a&&d.getMonth()===b&&d.getDate()===c?!0:!1};return c}()}).call(this);
